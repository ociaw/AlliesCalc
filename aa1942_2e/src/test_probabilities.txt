Exact probability calculations for non-trival battles
-----------------------------------------------------
Atk = Attacker
Def = Defender
Tie = Tie/Draw
Rec = Recursive
--- = Incomplete

2 Submarines attacking 1 Fighter and 1 Destroyer

         Sub || Fgh | Dst |  DefP  AtkP    P     Win
Start:    2  ||  1  |  1  |

          2  ||  1  |  1  |  4/9 * 2/9 =  8/81 | Rec |
          2  ||  1  |  0  |  5/9 * 2/9 = 10/81 | Tie | 10/73
          1  ||  1  |  1  |  4/9 * 5/9 = 20/81 | --- | 20/73
          1  ||  1  |  0  |  5/9 * 5/9 = 25/81 | Tie | 25/73
          0  ||  1  |  1  |  4/9 * 2/9 =  8/81 | Def |  8/73
          0  ||  1  |  0  |  5/9 * 2/9 = 10/81 | Def | 10/73


Start:    1  ||  1  |  1  |

          1  ||  1  |  1  |  2/3 * 2/9 =  4/27 | Rec |
          1  ||  1  |  0  |  1/3 * 2/9 =  2/27 | Tie |  2/23
          0  ||  1  |  1  |  2/3 * 7/9 = 14/27 | Def | 14/23
          0  ||  1  |  0  |  1/3 * 7/9 =  7/27 | Def |  7/23



AtkP: 0
DefP: 8/73 + 10/73 + 20/73 * (14/23 + 7/23) = 18/73 + 20/73 * 21/23 = 414/1679 + 420/1679 = 834/1679
TieP: 10/73 + 25/73 + 20/73 * 2/23          = 35/73 + 20/73 *  2/23 = 805/1679 +  40/1679 = 845/1679




1 Bomber attacking 1 Battleship

         Bom || Bat | Dam |  DefP  AtkP   P    Win
Start:    1  ||  1  |  0  |

          1  ||  1  |  0  |  1/3 * 1/3 = 1/9 | Rec |
          1  ||  0  |  1  |  2/3 * 1/3 = 2/9 | --- | 2/8 = 1/4
          0  ||  1  |  0  |  1/3 * 2/3 = 2/9 | Def | 2/8 = 1/4
          0  ||  0  |  1  |  2/3 * 2/3 = 4/9 | Def | 4/8 = 2/4



         Bom || Bat | Dam |  DefP  AtkP   P    Win
Start:    1  ||  0  |  1  |

          1  ||  0  |  1  |  1/3 * 1/3 = 1/9 | Rec |
          1  ||  0  |  0  |  2/3 * 1/3 = 2/9 | Atk | 2/8 = 1/4
          0  ||  0  |  1  |  1/3 * 2/3 = 2/9 | Def | 2/8 = 1/4
          0  ||  0  |  0  |  2/3 * 2/3 = 4/9 | Tie | 4/8 = 2/4

AtkP: 1/4 * 1/4 = 1/16
DefP: 1/4 + 2/4 + 1/4 * 1/4 = 3/4 + 1/16 = 12/16 + 1/16 = 13/16
TieP: 1/4 * 2/4 = 2/16


1 Tank and 1 Bomber attacking 1 Tank and 1 Fighter

         Tnk | Bom || Tnk | Fgh |  DefP  AtkP   P     Win
Start:    1  |  1  ||  1  |  1  |

          1  |  1  ||  1  |  1  |  1/6 * 1/6 = 1/36 | Rec |
          1  |  1  ||  0  |  1  |  3/6 * 1/6 = 3/36 | --- | 3/35
          1  |  1  ||  0  |  0  |  2/6 * 1/6 = 2/36 | Atk | 2/35

          1  |  0  ||  1  |  1  |  1/6 * 3/6 = 3/36 | --- | 3/35
          1  |  0  ||  0  |  1  |  3/6 * 3/6 = 9/36 | --- | 9/35
          1  |  0  ||  0  |  0  |  2/6 * 3/6 = 6/36 | Atk | 6/35

          0  |  0  ||  1  |  1  |  1/6 * 2/6 = 2/36 | Def | 2/35
          0  |  0  ||  0  |  1  |  3/6 * 2/6 = 6/36 | Def | 6/35
          0  |  0  ||  0  |  0  |  2/6 * 2/6 = 4/36 | Tie | 4/35


         Tnk | Bom || Tnk | Fgh |  DefP  AtkP    P     Win
Start:    1  |  1  ||  0  |  1  |

          1  |  1  ||  0  |  1  |  1/6 * 1/3 =  1/18 | Rec |
          1  |  1  ||  0  |  0  |  5/6 * 1/3 =  5/18 | Atk |  5/17
          1  |  0  ||  0  |  1  |  1/6 * 2/3 =  2/18 | --- |  2/17
          1  |  0  ||  0  |  0  |  5/6 * 2/3 = 10/18 | Atk | 10/17

         Tnk | Bom || Tnk | Fgh |  DefP  AtkP    P     Win
Start:    1  |  0  ||  1  |  1  |

          1  |  0  ||  1  |  1  |  1/2 * 1/6 =  1/12 | Rec |
          1  |  0  ||  0  |  1  |  1/2 * 1/6 =  1/12 | --- | 1/11
          0  |  0  ||  1  |  1  |  1/2 * 5/6 =  5/12 | Def | 5/11
          0  |  0  ||  0  |  1  |  1/2 * 5/6 =  5/12 | Def | 5/11

         Tnk | Bom || Tnk | Fgh |  DefP  AtkP    P    Win
Start:    1  |  0  ||  0  |  1  |

          1  |  0  ||  0  |  1  |  1/2 * 1/3 =  1/6 | Rec |
          1  |  0  ||  0  |  0  |  1/2 * 1/3 =  1/6 | Atk | 1/5
          0  |  0  ||  0  |  1  |  1/2 * 2/3 =  2/6 | Def | 2/5
          0  |  0  ||  0  |  0  |  1/2 * 2/3 =  2/6 | Tie | 2/5





AtkP: 2/35 + 6/35 + 3/35 * 15/17 + 3/35 * 2/17 * 1/5                + 3/35 * 1/11 * 1/5 + 9/35 * 1/5 = 2351/6545
DefP: 2/35 + 6/35                + 3/35 * 2/17 * 2/5 + 3/35 * 10/11 + 3/35 * 1/11 * 2/5 + 9/35 * 2/5 = 2726/6545
TieP: 4/35                       + 3/35 * 2/17 * 2/5                + 3/35 * 1/11 * 2/5 + 9/35 * 2/5 = 1468/6545
